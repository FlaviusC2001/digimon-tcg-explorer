<ion-header>
  <ion-toolbar>
    <ion-title>Favorites</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-searchbar
    [(ngModel)]="searchQuery"
    (ionInput)="onSearchChange()"
    placeholder="Search favorites"
  ></ion-searchbar>

  <!-- Grid Mode -->
  <ion-grid *ngIf="isGridMode && filtered.length > 0">
    <ion-row>
      <ion-col size="6" sizeMd="4" *ngFor="let card of filtered">
        <ion-card [routerLink]="['/card-detail', card.cardnumber]">
          <img loading="lazy" [src]="getImage(card)" [alt]="card.name" class="card-image" />
          <ion-card-header>
            <ion-card-title>{{ card.name }}</ion-card-title>
            <ion-card-subtitle>{{ card.cardnumber }}</ion-card-subtitle>
          </ion-card-header>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- List Mode -->
  <ion-list *ngIf="!isGridMode && filtered.length > 0">
    <ion-item
      *ngFor="let card of filtered"
      [routerLink]="['/card-detail', card.cardnumber]"
    >
      <img loading="lazy" [src]="getImage(card)" [alt]="card.name" class="card-image" />
      <ion-label>
        <h2>{{ card.name }}</h2>
        <p>{{ card.cardnumber }}</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <ion-text color="medium" *ngIf="filtered.length === 0">
    <p class="ion-padding">No favorite cards found.</p>
  </ion-text>
</ion-content>
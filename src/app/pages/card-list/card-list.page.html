<ion-header>
  <ion-toolbar>
    <ion-title>Card List</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-searchbar
    [(ngModel)]="searchQuery"
    (ionInput)="onSearchChange()"
    placeholder="Search by name or number"
  ></ion-searchbar>

  <!-- Grid Mode -->
  <ion-grid *ngIf="isGridMode" @cardAnimation>
    <ion-row>
      <ion-col size="6" sizeMd="4" *ngFor="let card of filteredCards">
        <ion-card [routerLink]="['/card-detail', card.cardnumber]">
          <img loading="lazy" [src]="getImage(card)" [alt]="card.name" class="card-image" />
          <ion-card-header>
            <ion-card-title>{{ card.name }}</ion-card-title>
            <ion-card-subtitle>{{ card.cardnumber }}</ion-card-subtitle>
          </ion-card-header>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- List Mode -->
  <ion-list *ngIf="!isGridMode" @cardAnimation>
    <ion-item
      *ngFor="let card of filteredCards"
      [routerLink]="['/card-detail', card.cardnumber]"
    >
      <img loading="lazy" [src]="getImage(card)" [alt]="card.name" slot="start" class="list-image" />
      <ion-label>
        <h2>{{ card.name }}</h2>
        <p>{{ card.cardnumber }}</p>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>